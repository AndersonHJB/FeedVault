subscription.html:
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>订阅信息</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>您的订阅信息</h1>

        <!-- 订阅链接和复制按钮 -->
        <div style="display: flex; align-items: center; position: relative;">
            <p>订阅链接：<a href="{{ subscription_url }}" target="_blank">{{ subscription_url }}</a></p>
            <button id="copyButton" onclick="copyToClipboard('{{ subscription_url }}')" style="margin-left: 10px;">
                复制订阅链接
            </button>

            <!-- 复制成功提示 -->
            <div id="copySuccess" class="copy-success">复制成功</div>
        </div>

        <!-- 剩余天数显示 -->
        <p>有效期剩余：{{ remaining_days }} 天</p>

        <!-- 二维码显示 -->
        <h3>订阅二维码</h3>
        <img src="{{ url_for('static', filename='qrcodes/' + user.subscription_link + '.png') }}" alt="订阅二维码" style="width: 150px; height: 150px;">

        <a href="{{ url_for('logout') }}" style="display: inline-block; margin-top: 20px;">退出登录</a>
    </div>

    <script>
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                // 显示浮动提示“复制成功”
                const copySuccess = document.getElementById("copySuccess");
                copySuccess.style.opacity = "1";
                copySuccess.style.visibility = "visible";

                // 2秒后隐藏提示
                setTimeout(() => {
                    copySuccess.style.opacity = "0";
                    copySuccess.style.visibility = "hidden";
                }, 2000);
            }).catch(err => {
                console.error("复制失败:", err);
            });
        }
    </script>
</body>
</html>

subscription.css:
/* subscription.css */
.copy-success {
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #28a745;
    color: #fff;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 12px;
    font-weight: bold;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    white-space: nowrap;
}

