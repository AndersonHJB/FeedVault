<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>主页</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='base.css') }}">
    <style>
        /* 菜单栏样式 */
        .menu-bar {
            display: flex;
            background-color: #333;
            overflow: hidden;
        }

        .menu-bar a {
            padding: 14px 16px;
            display: block;
            color: #f2f2f2;
            text-align: center;
            text-decoration: none;
        }

        .menu-bar a:hover {
            background-color: #ddd;
            color: black;
        }

        /* 选项卡样式 */
        .tab {
            overflow: hidden;
            border-bottom: 1px solid #ccc;
            background-color: #f1f1f1;
            margin-top: 20px;
        }

        .tab button {
            background-color: inherit;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            font-size: 16px;
        }

        .tab button:hover {
            background-color: #ddd;
        }

        .tab button.active {
            background-color: #ccc;
        }

        /* 选项卡内容样式 */
        .tabcontent {
            display: none;
            padding: 20px;
        }

        .tabcontent.show {
            display: block;
        }

        /* 视频样式 */
        video {
            width: 100%;
            max-width: 800px;
            height: auto;
            margin: 0 auto;
            display: block;
        }
    </style>
</head>
<body>

<div class="container">

    <!-- 菜单栏 -->
    <div class="menu-bar">
        <a href="{{ url_for('index') }}">主页</a>
        <a href="{{ url_for('user_login') }}">用户登录</a>
        <a href="{{ url_for('login') }}">管理员登录</a>
        <a href="{{ url_for('purchase') }}">购买</a>
        <!-- 根据需要添加更多菜单项 -->
    </div>

    <!-- 选项卡 -->
    <div class="tab">
        {% for video in videos %}
            <button class="tablinks" onclick="openTab(event, '{{ video.id }}')">{{ video.title }}</button>
        {% endfor %}
    </div>

    <!-- 选项卡内容 -->
    {% for video in videos %}
        <div id="{{ video.id }}" class="tabcontent">
            <h3>{{ video.title }}</h3>
            <video controls>
                <source src="{{ url_for('static', filename='video/' + video.filename) }}" type="video/mp4">
                您的浏览器不支持 HTML5 视频。
            </video>
        </div>
    {% endfor %}

</div>

<!-- JavaScript，用于切换选项卡 -->
<script>
    function openTab(evt, tabName) {
        var i, tabcontent, tablinks;

        // 隐藏所有选项卡内容
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].classList.remove('show');
        }

        // 移除所有选项卡的“active”类
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].classList.remove('active');
        }

        // 显示当前选项卡内容，并添加“active”类到对应的按钮
        document.getElementById(tabName).classList.add('show');
        evt.currentTarget.classList.add('active');
    }

    // 默认打开第一个选项卡
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelector('.tablinks').click();
    });
</script>

</body>
</html>
