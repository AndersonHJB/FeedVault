<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
</head>
<body>
    <h1>管理后台</h1>

    <h2>添加新用户</h2>
    <form method="post">
        <label>用户名: <input type="text" name="username"></label><br>
        <label>密码: <input type="password" name="password"></label><br>
        <label>有效期天数: <input type="number" name="expiration_days" value="30"></label><br>
        <button type="submit">添加用户</button>
    </form>

    <h2>用户列表</h2>
    <table>
        <tr>
            <th>用户名</th>
            <th>订阅链接</th>
            <th>有效期</th>
            <th>操作</th>
        </tr>
        {% for user in users %}
        <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.subscription_link }}.yml</td>
            <td>{{ user.expiration_date }}</td>
            <td>
                <form method="post">
                    <input type="hidden" name="delete_user" value="{{ user.id }}">
                    <button type="submit">删除</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
